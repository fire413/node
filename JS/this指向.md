this指向

**如果调用者函数，被某一个对象所拥有，那么该函数在调用时，内部的this指向该对象。如果函数独立调用，那么该函数内部的this，则指向undefined**。但是在非严格模式中，当this指向undefined时，它会被自动指向全局对象。全局环境里，this指向全局对象。

通过new操作符调用构造函数，会经历以下4个阶段。

- 创建一个新的对象；
- 将构造函数的this指向这个新对象；
- 指向构造函数的代码，为这个对象添加属性，方法等；
- 返回新对象。

IIFE（Immediately Invoked Function Expression,声明即执行的函数表达式)

call、apply、bind

```js
fun.call(thisArg, arg1, arg2, ...)
```

**thisArg**
 在`fun`函数运行时指定的`this`值。需要注意的是，指定的`this`值并不一定是该函数执行时真正的`this`值，如果这个函数处于**非严格模式**下，则指定为`null`和`undefined`的`this`值会自动指向全局对象(浏览器中就是`window`对象)，同时值为原始值(数字，字符串，布尔值)的`this`会指向该原始值的自动包装对象。严格模式下，`thisArg`是原始值是值类型，也就是原始值。不会被包装成对象。
 **arg1, arg2, ...**
 指定的参数列表
 **返回值**
 返回值是你调用的方法的返回值，若该方法没有返回值，则返回`undefined`。
 `apply`和`call`类似。只是参数不一样。它的参数是数组（或者类数组）。

箭头函数中没有`this`绑定，必须通过查找作用域链来决定其值。 如果箭头函数被非箭头函数包含，则`this`绑定的是最近一层非箭头函数的`this`，否则`this`的值则被设置为全局对象。

箭头函数无法通过`call`、`apply`、`bind`绑定箭头函数的`this`(它自身没有`this`)。